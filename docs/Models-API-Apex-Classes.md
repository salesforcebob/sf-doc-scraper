# Models API Apex Classes

The Models API provides Apex classes that connect your application to large language models (LLMs). To get started, see [Access Models API with Apex](/docs/einstein/genai/guide/access-models-api-with-apex.html).

This page lists all the Apex classes that are autogenerated from the Models REST API specification using [External Services](https://help.salesforce.com/s/articleView?id=sf.external_services.htm&type=5). The methods for each capability are located within the main `ModelsAPI` class. The rest of the classes contain property values associated with a request or a response.

The namespace for all Models API classes is `aiplatform`.

## ModelsAPI

The main class for the Models API.

### Methods

The methods of the `ModelsAPI` class are the primary way to interact with the Models API via Apex.

#### createChatGenerations(...)

Generate a response based on a list of messages representing a chat conversation.

-   **Parameters**: [createChatGenerations\_Request](#createchatgenerations_request) input
-   **Returns**: [createChatGenerations\_Response](#createchatgenerations_response)
-   **Throws**: [createChatGenerations\_ResponseException](#createchatgenerations_responseexception)
-   **Signature**: `createChatGenerations_Response createChatGenerations(createChatGenerations_Request input);`
-   **Example**: `aiplatform.ModelsAPI.createChatGenerations_Response response = modelsAPI.createChatGenerations(request);`

#### createEmbeddings(...)

Create an embedding vector representing the input text.

-   **Parameters**: [createEmbeddings\_Request](#createembeddings_request) input
-   **Returns**: [createEmbeddings\_Response](#createembeddings_response)
-   **Throws**: [createEmbeddings\_ResponseException](#createembeddings_responseexception)
-   **Signature**: `createEmbeddings_Response createEmbeddings(createEmbeddings_Request input)`
-   **Example**: `aiplatform.ModelsAPI.createEmbeddings_Request request = new aiplatform.ModelsAPI.createEmbeddings_Request();`

#### createGenerations(...)

Generate a response based on the provided prompt.

-   **Parameters**: [createGenerations\_Request](#creategenerations_request) input
-   **Returns**: [createGenerations\_Response](#creategenerations_response)
-   **Throws**: [createGenerations\_ResponseException](#creategenerations_responseexception)
-   **Signature**: `createChatGenerations_Response createChatGenerations(createChatGenerations_Request input);`
-   **Example**: `aiplatform.ModelsAPI.createChatGenerations_Response response = modelsAPI.createChatGenerations(request);`

#### submitFeedback(...)

Submit feedback for generated text.

-   **Parameters**: [submitFeedback\_Request](#submitfeedback_request) input
-   **Returns**: [submitFeedback\_Response](#submitfeedback_response)
-   **Throws**: [submitFeedback\_ResponseException](#submitfeedback_responseexception)
-   **Signature**: `submitFeedback_Response submitFeedback(submitFeedback_Request input)`
-   **Example**: `aiplatform.ModelsAPI.submitFeedback_Response response = modelsAPI.submitFeedback(request);`

### Child Classes

The child classes of the `ModelsAPI` parent class.

#### createChatGenerations\_Request

Contains the request information for a chat generations request.

| Property | Type | Description |
| --- | --- | --- |
| modelName | String | Configured model name. To learn more, see [Supported Models](/docs/einstein/genai/guide/supported-models.html). |
| body | [ModelsAPI\_ChatGenerationsRequest](#modelsapi_chatgenerationsrequest) | Generation request class containing the messages, localization, and necessary tags. |

#### createChatGenerations\_Response

Contains the response information for a chat generations response.

| Property | Type | Description |
| --- | --- | --- |
| Code200 | [ModelsAPI\_ChatGenerationsResponse](#modelsapi_chatgenerationsresponse) | The response information for a successful chat generations response, including the prompt and generated text. |
| responseCode | Integer | An HTTP status code. |

#### createChatGenerations\_ResponseException

An exception for chat generation responses other than `Code200`. For information on HTTP and status code standards, see [RFC 9110 HTTP Semantics](https://www.rfc-editor.org/rfc/rfc9110.html#).

| Property | Type | Description |
| --- | --- | --- |
| responseCode | Integer | An HTTP status code. |
| Code400 | [ModelsAPI\_Error](#modelsapi_error) | An HTTP code 400 error response. |
| Code401 | [ModelsAPI\_Error](#modelsapi_error) | An HTTP code 401 error response. |
| Code403 | [ModelsAPI\_Error](#modelsapi_error) | An HTTP code 403 error response. |
| Code423 | [ModelsAPI\_Error](#modelsapi_error) | An HTTP code 423 error response. |
| Code429 | [ModelsAPI\_Error](#modelsapi_error) | An HTTP code 429 error response. |
| Code500 | [ModelsAPI\_Error](#modelsapi_error) | An HTTP code 500 error response. |
| Code503 | [ModelsAPI\_Error](#modelsapi_error) | An HTTP code 503 error response. |
| defaultResponse | [ModelsAPI\_Error](#modelsapi_error) | A default error response. |

#### createGenerations\_Request

Contains the request information for a generations request.

| Property | Type | Description |
| --- | --- | --- |
| modelName | String | Configured model name. To learn more, see [Supported Models](/docs/einstein/genai/guide/supported-models.html). |
| body | [ModelsAPI\_GenerationRequest](#modelsapi_generationrequest) | Generation request class containing the prompt, localization, and necessary tags. |

#### createGenerations\_Response

Contains the response information for a generations response.

| Property | Type | Description |
| --- | --- | --- |
| Code200 | [ModelsAPI\_GenerationResponse](#modelsapi_generationresponse) | The response information for a successful chat generations response, including the prompt and generated text. |
| responseCode | Integer | Response code. |

#### createGenerations\_ResponseException

An exception for generation responses other than `Code200`. For information on HTTP and status code standards, see [RFC 9110 HTTP Semantics](https://www.rfc-editor.org/rfc/rfc9110.html#).

| Property | Type | Description |
| --- | --- | --- |
| responseCode | Integer | An HTTP status code. |
| Code400 | [ModelsAPI\_Error](#modelsapi_error) | An HTTP code 400 error response. |
| Code401 | [ModelsAPI\_Error](#modelsapi_error) | An HTTP code 401 error response. |
| Code403 | [ModelsAPI\_Error](#modelsapi_error) | An HTTP code 403 error response. |
| Code423 | [ModelsAPI\_Error](#modelsapi_error) | An HTTP code 423 error response. |
| Code429 | [ModelsAPI\_Error](#modelsapi_error) | An HTTP code 429 error response. |
| Code500 | [ModelsAPI\_Error](#modelsapi_error) | An HTTP code 500 error response. |
| Code503 | [ModelsAPI\_Error](#modelsapi_error) | An HTTP code 503 error response. |
| defaultResponse | [ModelsAPI\_Error](#modelsapi_error) | A default error response. |

#### createEmbeddings\_Request

Contains the request information for an embeddings request.

| Property | Type | Description |
| --- | --- | --- |
| modelName | String | Configured model name. To learn more, see [Supported Models](/docs/einstein/genai/guide/supported-models.html). |
| body | [ModelsAPI\_EmbeddingRequest](#modelsapi_embeddingrequest) | Embedding class containing input text, localization, and necessary tags. |

#### createEmbeddings\_Response

Contains the response information for an embeddings request.

| Property | Type | Description |
| --- | --- | --- |
| Code200 | [ModelsAPI\_EmbeddingResponse](#modelsapi_embeddingresponse) | The response information for a successful embedding response. |
| responseCode | Integer | An HTTP status code. |

#### createEmbeddings\_ResponseException

An exception for embeddings responses other than `Code200`. For information on HTTP and status code standards, see [RFC 9110 HTTP Semantics](https://www.rfc-editor.org/rfc/rfc9110.html#).

| Property | Type | Description |
| --- | --- | --- |
| responseCode | Integer | An HTTP status code. |
| Code400 | [ModelsAPI\_Error](#modelsapi_error) | An HTTP code 400 error response. |
| Code401 | [ModelsAPI\_Error](#modelsapi_error) | An HTTP code 401 error response. |
| Code403 | [ModelsAPI\_Error](#modelsapi_error) | An HTTP code 403 error response. |
| Code423 | [ModelsAPI\_Error](#modelsapi_error) | An HTTP code 423 error response. |
| Code429 | [ModelsAPI\_Error](#modelsapi_error) | An HTTP code 429 error response. |
| Code500 | [ModelsAPI\_Error](#modelsapi_error) | An HTTP code 500 error response. |
| Code503 | [ModelsAPI\_Error](#modelsapi_error) | An HTTP code 503 error response. |
| defaultResponse | [ModelsAPI\_Error](#modelsapi_error) | A default error response. |

#### submitFeedback\_Request

Contains the request information for a feedback submission.

| Property | Type | Description |
| --- | --- | --- |
| body | [ModelsAPI\_FeedbackRequest](#modelsapi_feedbackrequest) | Request body. |

#### submitFeedback\_Response

The response information for an accepted feedback response.

| Property | Type | Description |
| --- | --- | --- |
| Code202 | [ModelsAPI\_submitFeedback\_OUT\_202](#modelsapi_submitfeedback_out_202) | The response information for an accepted feedback response. |
| responseCode | Integer | An HTTP status code. |

#### submitFeedback\_ResponseException

An exception for chat feedback responses other than `Code200`. For information on HTTP and status code standards, see [RFC 9110 HTTP Semantics](https://www.rfc-editor.org/rfc/rfc9110.html#).

| Property | Type | Description |
| --- | --- | --- |
| responseCode | Integer | An HTTP status code. |
| Code400 | [ModelsAPI\_Error](#modelsapi_error) | An HTTP code 400 error response. |
| Code401 | [ModelsAPI\_Error](#modelsapi_error) | An HTTP code 401 error response. |
| Code403 | [ModelsAPI\_Error](#modelsapi_error) | An HTTP code 403 error response. |
| Code423 | [ModelsAPI\_Error](#modelsapi_error) | An HTTP code 423 error response. |
| Code429 | [ModelsAPI\_Error](#modelsapi_error) | An HTTP code 429 error response. |
| Code500 | [ModelsAPI\_Error](#modelsapi_error) | An HTTP code 500 error response. |
| Code503 | [ModelsAPI\_Error](#modelsapi_error) | An HTTP code 503 error response. |
| defaultResponse | [ModelsAPI\_Error](#modelsapi_error) | A default error response. |

## ModelsAPI\_ChatGenerationsRequest

A chat generation request.

| Property | Type | Description |
| --- | --- | --- |
| messages | List<[ModelsAPI\_ChatMessageRequest](#modelsapi_chatmessagerequest)\> | List of messages to send to the model. These messages should be in chronological order. |
| localization | [ModelsAPI\_Localization](#modelsapi_localization) | Localization information, which can include the default locale, input locale(s), and expected output locale(s). |
| tags | [ModelsAPI\_Tags](#modelsapi_tags) | Entries used by the Models API for non-generative purposes and entries used by the client for free-form data. |

## ModelsAPI\_ChatGenerationsResponse

A chat generation response.

| Property | Type | Description |
| --- | --- | --- |
| id | String | Unique identifier for the response. |
| generationDetails | [ModelsAPI\_GenerationDetails](#modelsapi_generationdetails) | Details for a chat generation response. |

## ModelsAPI\_ChatMessage

A message in a conversation. This message is used in a chat generation response.

| Property | Type | Description |
| --- | --- | --- |
| id | String | Generation ID. Required to register feedback. |
| role | String | Persona that sent the message. |
| content | String | The content of the message. |
| timestamp | Long | Timestamp when the message was sent. |
| parameters | [ModelsAPI\_ChatMessage\_parameters](#modelsapi_chatmessage_parameters) | Provider-specific attributes included as part of this object. |
| contentQuality | [ModelsAPI\_ContentTrustRepresentation](#modelsapi_contenttrustrepresentation) | Content quality details. |

## ModelsAPI\_ChatMessageRequest

A message in a conversation. This message is used in a chat generation request.

| Property | Type | Description |
| --- | --- | --- |
| role | String | Persona that sent the message. |
| content | String | The content of the message. |

## ModelsAPI\_ChatMessage\_parameters

Any provider-specific attributes included as part of this object.

| Property | Type | Description |
| --- | --- | --- |
| properties | Map of String, Object | Provider-specific properties. |

## ModelsAPI\_ContentModeration

This class is deprecated.

## ModelsAPI\_ContentTrustRepresentation

Content moderation details for generated content.

| Property | Type | Description |
| --- | --- | --- |
| scanToxicity | [ModelsAPI\_TrustScannerRepresentation](#modelsapi_trustscannerrepresentation) | Toxicity scan details. |

## ModelsAPI\_EmbeddingRequest

An embedding request.

| Property | Type | Description |
| --- | --- | --- |
| input | List<String> | Input text used for generating an embedding. Data is encoded as an array of strings. |
| localization | [ModelsAPI\_Localization](#modelsapi_localization) | Localization information, which can include the default locale, input locale(s), and expected output locale(s). |
| tags | [ModelsAPI\_Tags](#modelsapi_tags) | Entries used by the Models API for non-generative purposes and entries used by the client for free-form data. |

## ModelsAPI\_EmbeddingResponse

An embedding response.

| Property | Type | Description |
| --- | --- | --- |
| embeddings | List<[ModelsAPI\_Embeddings](#modelsapi_embeddings)\> | A list of embedding responses. |
| parameters | [ModelsAPI\_EmbeddingResponse\_parameters](#modelsapi_embeddingresponse_parameters) | Any provider-specific attributes included as part of this object. |

## ModelsAPI\_EmbeddingResponse\_parameters

Any provider-specific attributes included as part of this object.

| Property | Type | Description |
| --- | --- | --- |
| properties | Map of String, Object | Provider-specific properties. |

## ModelsAPI\_Embeddings

An embedding vector for the text.

| Property | Type | Description |
| --- | --- | --- |
| embedding | List<Double> | Embedding of the text. Data is specified as an array of numbers. |
| index | Integer | Index of the input text to which the embedding belongs. |

## ModelsAPI\_Error

Models API error.

| Property | Type | Description |
| --- | --- | --- |
| errorCode | String | Error code to map the error message. |
| messageCode | String | A specification of the error that uniquely identifies an error message. |
| message | String | Description of the error. |
| targets | List<[ModelsAPI\_Error\_targets](#modelsapi_error_targets)\> | Collection of references representing the specific occurrence of the problem. |
| parameters | List<[ModelsAPI\_Error\_parameters](#modelsapi_error_parameters)\> | A collection of name-value pairs where each item in the collection represents a parameter leveraged in the error message. |
| properties | Map of String, Object | A map of the properties. |

## ModelsAPI\_Error\_parameters

A collection of name-value pairs where each item in the collection represents a parameter leveraged in the error message.

| Property | Type | Description |
| --- | --- | --- |
| name | String | Parameter name. |
| value | String | Parameter value. |

## ModelsAPI\_Error\_targets

Collection of references representing the specific occurrence of the problem.

| Property | Type | Description |
| --- | --- | --- |
| z0type | String | Type of the target (FIELD, QUERY\_PARAMETER, HTTP\_HEADER). |
| reference | String | Reference to the specific occurrence of the problem. |

## ModelsAPI\_FeedbackRequest

A feedback request.

| Property | Type | Description |
| --- | --- | --- |
| id | String | Unique ID for the feedback object. |
| generationId | String | Identifies the target of this feedback data. You can specify the ID of a `/generations` response, or use any other identifier as a string value. The Models API doesn’t do any semantic validation on this field. It’s only meant for identifying this information in the datastore. |
| feedback | String | The feedback sentiment. Can be `null`. |
| feedbackText | String | The textual representation of the feedback as provided by the user. |
| source | String | The source of the feedback. For example, `human` or `app`. |
| appFeedback | [ModelsAPI\_FeedbackRequest\_appFeedback](#modelsapi_feedbackrequest_appfeedback) | Dictionary of any app-level feedback and any other free-form parameters. |
| appGenerationId | String | App-specific generation ID to support cases where the client has multiple responses in a single generation. |
| appGeneration | String | App-specific generation text to support cases where the client has multiple responses in a single generation. |

## ModelsAPI\_FeedbackRequest\_appFeedback

Dictionary of any app-level feedback and any other free-form parameters.

| Property | Type | Description |
| --- | --- | --- |
| properties | Map of String, Object | A map of the properties. |

## ModelsAPI\_GenerationDetails

Details for a chat generation response.

| Property | Type | Description |
| --- | --- | --- |
| generations | List<[ModelsAPI\_ChatMessage](#modelsapi_chatmessage)\> | A list of messages used in a chat generation response. |
| parameters | [ModelsAPI\_GenerationDetails\_parameters](#modelsapi_generationdetails_parameters) | Any provider-specific attributes included as part of this object. |

## ModelsAPI\_GenerationDetails\_parameters

Any provider-specific attributes included as part of this object.

| Property | Type | Description |
| --- | --- | --- |
| properties | Map of String, Object | A map of the properties. |

## ModelsAPI\_GenerationRepresentation

The generated text that is part of the generation response.

| Property | Type | Description |
| --- | --- | --- |
| id | String | Generation ID. This value is required to register feedback. |
| generatedText | String | The generated text. |
| contentQuality | [ModelsAPI\_ContentTrustRepresentation](#modelsapi_contenttrustrepresentation) | Content moderation details for generated content. |
| parameters | [ModelsAPI\_GenerationRepresentation\_parameters](#modelsapi_generationrepresentation_parameters) | Any provider-specific attributes included as part of this object. Can be `null`. |

## ModelsAPI\_GenerationRepresentation\_parameters

Any provider-specific attributes included as part of this object. Can be `null`.

| Property | Type | Description |
| --- | --- | --- |
| properties | Map of String, Object | A map of the properties. |

## ModelsAPI\_GenerationRequest

A generation request containing prompt, localization, and tag information.

| Property | Type | Description |
| --- | --- | --- |
| prompt | String | The prompt or text to be completed. |
| localization | [ModelsAPI\_Localization](#modelsapi_localization) | Localization information, which can include the default locale, input locale(s), and expected output locale(s). |
| tags | [ModelsAPI\_Tags](#modelsapi_tags) | Entries used by the Models API for non-generative purposes and entries used by the client for free-form data. |

## ModelsAPI\_GenerationResponse

A generations response.

| Property | Type | Description |
| --- | --- | --- |
| id | String | ID of the generation request. |
| generation | [ModelsAPI\_GenerationRepresentation](#modelsapi_generationrepresentation) | The generated text that is part of the generation response. |
| moreGenerations | List<[ModelsAPI\_GenerationRepresentation](#modelsapi_generationrepresentation)\> | List of generated text items if the number of requested generations is greater than one. |
| prompt | String | Prompt used for the generation. Can be null. |
| parameters | [ModelsAPI\_GenerationResponse\_parameters](#modelsapi_generationresponse_parameters) | Any provider-specific attributes included as part of this object. Can be `null`. |

## ModelsAPI\_GenerationResponse\_parameters

Any provider-specific attributes included as part of this object. Can be `null`.

| Property | Type | Description |
| --- | --- | --- |
| properties | Map of String, Object | A map of the properties. |

## ModelsAPI\_Localization

Localization information, which can include the default locale, input locale(s), and expected output locale(s). To learn more, see [Specify Languages and Locales with Models API](/docs/einstein/genai/guide/models-api-languages-and-locales.html).

| Property | Type | Description |
| --- | --- | --- |
| defaultLocale | String | Default locale. |
| inputLocales | List<[ModelsAPI\_ProbableLocale](#modelsapi_probablelocale)\> | List of language codes or locales found in the prompt. |
| expectedLocales | List<String> | Expected output languages of the generations. Derived from the output language instructions of the prompt. |

## ModelsAPI\_ProbableLocale

The locale and an optional probability value.

| Property | Type | Description |
| --- | --- | --- |
| locale | String | A language or locale. |
| probability | Double | An estimate of how frequently you expect this language or locale to appear in the input. |

## ModelsAPI\_Tags

Entries used by the Models API for non-generative purposes and entries used by the client for free-form data.

| Property | Type | Description |
| --- | --- | --- |
| properties | Map of String, Object | A map of the properties. |

## ModelsAPI\_TrustCategoryDetail

Safety score for a given category.

| Property | Type | Description |
| --- | --- | --- |
| categoryName | String | Name of the category. |
| score | Double | A toxicity score value. A higher score means the response is more likely to be toxic. |

## ModelsAPI\_TrustScannerRepresentation

Represents safety and toxicity data.

| Property | Type | Description |
| --- | --- | --- |
| isDetected | Boolean | Indicates whether a scan detected any toxic content. A false value doesn’t necessarily mean that the content isn’t toxic. |
| categories | List<[ModelsAPI\_TrustCategoryDetail](#modelsapi_trustcategorydetail)\> | List of safety scores for different categories. |

## ModelsAPI\_submitFeedback\_OUT\_202

An accepted feedback message.

| Property | Type | Description |
| --- | --- | --- |
| message | String | An accepted feedback message. |